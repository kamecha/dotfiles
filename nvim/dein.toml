# plugin manager
[[plugins]]
repo = 'Shougo/dein.vim'

# profile vim startup time
[[plugins]]
repo = 'dstein64/vim-startuptime'

# LSP
[[plugins]]
repo = 'neovim/nvim-lspconfig'
lua_add = '''
vim.keymap.set('n', '<space>e', vim.diagnostic.open_float)
vim.keymap.set('n', '[d', vim.diagnostic.goto_prev)
vim.keymap.set('n', ']d', vim.diagnostic.goto_next)
vim.keymap.set('n', '<space>q', vim.diagnostic.setloclist)
-- Use LspAttach autocommand to only map the following keys
-- after the language server attaches to the current buffer
vim.api.nvim_create_autocmd('LspAttach', {
  group = vim.api.nvim_create_augroup('UserLspConfig', {}),
  callback = function(ev)
    -- Enable completion triggered by <c-x><c-o>
    -- vim.bo[ev.buf].omnifunc = 'v:lua.vim.lsp.omnifunc'

    -- Buffer local mappings.
    -- See `:help vim.lsp.*` for documentation on any of the below functions
    local opts = { buffer = ev.buf }
    vim.keymap.set('n', 'gD', vim.lsp.buf.declaration, opts)
    vim.keymap.set('n', 'gd', vim.lsp.buf.definition, opts)
    vim.keymap.set('n', 'K', vim.lsp.buf.hover, opts)
    vim.keymap.set('n', 'gi', vim.lsp.buf.implementation, opts)
    vim.keymap.set('n', '<C-k>', vim.lsp.buf.signature_help, opts)
    vim.keymap.set('n', '<space>wa', vim.lsp.buf.add_workspace_folder, opts)
    vim.keymap.set('n', '<space>wr', vim.lsp.buf.remove_workspace_folder, opts)
    vim.keymap.set('n', '<space>wl', function()
      print(vim.inspect(vim.lsp.buf.list_workspace_folders()))
    end, opts)
    vim.keymap.set('n', '<space>D', vim.lsp.buf.type_definition, opts)
    vim.keymap.set('n', '<space>rn', vim.lsp.buf.rename, opts)
    vim.keymap.set('n', '<space>ca', vim.lsp.buf.code_action, opts)
    vim.keymap.set('n', 'gr', vim.lsp.buf.references, opts)
    vim.keymap.set('n', '<space>f', function()
      vim.lsp.buf.format { async = true }
    end, opts)
  end,
})
'''
lua_source = '''
vim.lsp.handlers["textDocument/hover"] = vim.lsp.with(
	vim.lsp.handlers.hover, {
	   -- Use a sharp border with `FloatBorder` highlights
		border = "single",
	   -- add the title in hover float window
		title = "hover"
	}
)
vim.lsp.handlers["textDocument/signatureHelp"] = vim.lsp.with(
	vim.lsp.handlers.signature_help, {
	-- Use a sharp border with `FloatBorder` highlights
	border = "single"
	}
)
'''

[[plugins]]
repo = 'williamboman/mason.nvim'
lua_source = '''
require('mason').setup()
'''

[[plugins]]
repo = 'williamboman/mason-lspconfig.nvim'
depends = ['nvim-lspconfig', 'mason.nvim']
lua_source = '''
local nvim_lsp = require("lspconfig")
local mason_lspconfig = require('mason-lspconfig')
mason_lspconfig.setup_handlers({ function(server_name)
	local opts = {}
	nvim_lsp[server_name].setup(opts)
end })
'''

# LSP„ÅÆ„É©„ÉÉ„Éë„Éº
[[plugins]]
repo = 'jose-elias-alvarez/null-ls.nvim'
lua_source = '''
-- settting for null-ls to use textlint
local null_ls = require("null-ls")
null_ls.setup({
	sources = {
		null_ls.builtins.diagnostics.textlint.with({
			filetypes = { "markdown" },
			command = "textlint",
		})
	},
})
'''

# null-ls„Åß‰Ωø„ÅÜ„Çâ„Åó„ÅÑ
[[plugins]]
repo = 'nvim-lua/plenary.nvim'

# „Ç§„É≥„Çπ„Éà„Éº„É´„ÅÆUI
[[plugins]]
repo = 'j-hui/fidget.nvim'
lua_add = '''
vim.api.nvim_create_autocmd('LspAttach', {
	once = true,
	callback = function()
		require('fidget').setup({
			text = {
				spinner = 'moon',
			},
		})
	end,
})
'''
lua_source = '''
require('fidget').setup({})
'''

[[plugins]]
repo = 'folke/neodev.nvim'
lua_source = '''
require("neodev").setup({})
'''

# deno
[[plugins]]
repo = 'vim-denops/denops.vim'
on_event = 'CursorHold'

# „Çø„Éº„Éü„Éä„É´„ÇíËâØ„ÅÑÊÑü„Åò„Å´„Åô„Çã
[[plugins]]
repo = 'akinsho/toggleterm.nvim'
rev = '*'

[[plugins]]
repo = 'voldikss/vim-floaterm'
hook_add = '''
let g:floaterm_width = 0.9
let g:floaterm_height = 0.9
nnoremap <silent> <F8> :FloatermNew<CR>
nnoremap <silent> <F9> :FloatermToggle<CR>
tnoremap <silent> <F9> <C-\><C-n>:FloatermToggle<CR>
'''

# AIË£úÂÆå
[[plugins]]
repo = 'github/copilot.vim'

# „ÅÇ„ÅÑ„Åæ„ÅÑÊ§úÁ¥¢
[[plugins]]
repo = 'junegunn/fzf'
build_on = '''
./install -all
'''
merged = '0'

[[plugins]]
repo = 'junegunn/fzf.vim'
depends = 'fzf'

# helpÊó•Êú¨Ë™û
[[plugins]]
repo = 'vim-jp/vimdoc-ja'
hook_source = 'set helplang=ja,en'

# ÁøªË®≥
[[plugins]]
repo = '~/workspace/Plugin/denops-translate.vim'

# gcc„Åß„Ç≥„É°„É≥„Éà„Ç¢„Ç¶„Éà
[[plugins]]
repo = 'numToStr/Comment.nvim'
lua_source = '''
require('Comment').setup()
'''

# ÈÉ®ÂàÜÁ∑®ÈõÜ
[[plugins]]
repo = 'thinca/vim-partedit'

# „Çπ„ÉÜ„Éº„Çø„Çπ„É©„Ç§„É≥
[[plugins]]
repo = 'itchyny/lightline.vim'
hook_add = '''
" 0: never 1: only split 2: always
set laststatus=2
let g:lightline = {
\	'colorscheme': 'edge',
\	'enable': {
\		'statusline': 1,
\		'tabline': 0,
\	},
\	'active': {
\		'left': [ ['mode', 'paste'], ['gitbranch', 'readonly', 'filename', 'skkeleton', 'modified'] ]
\	},
\	'component_function': {
\		'skkeleton': 'L_skkeleton_get_mode',
\		'gitbranch': 'gitbranch#name',
\	},
\}
'''

# „Çø„Éñ„É©„Ç§„É≥
[[plugins]]
repo = 'nanozuki/tabby.nvim'
hook_add = '''
set showtabline=2
'''
lua_source = '''
require('tabby.tabline').use_preset('active_wins_at_tail', {
	tab_name = {
		name_fallback = function(tabid)
			return ""
		end
	},
})
'''

#  popupÁ≠â„ÅÆË£úÂä©ÊÉÖÂ†±„ÅÆË°®Á§∫
[[plugins]]
repo = 'matsui54/denops-popup-preview.vim'
depends = 'denops.vim'

# git branch
[[plugins]]
repo = 'itchyny/vim-gitbranch'

# „Ç´„ÉÉ„Ç≥Ë£úÂÆå
[[plugins]]
repo = 'cohama/lexima.vim'

# surround
[[plugins]]
repo = 'tpope/vim-surround'

# BadApple
[[plugins]]
repo = 'skanehira/badapple.vim'

# markdown„ÅÆ„Éó„É¨„Éì„É•„Éº
[[plugins]]
repo = 'iamcco/markdown-preview.nvim'
on_ft = ['markdown', 'pandoc.markdown', 'rmd']
build = 'cd app && yarn install'

# color„ÅÆ„Éó„É¨„Éì„É•„Éº
[[plugins]]
repo = 'gko/vim-coloresque'

# color scheme
[[plugins]]
repo = 'EdenEast/nightfox.nvim'

[[plugins]]
repo = 'sainnhe/edge'
hook_add = '''
if has('termguicolors')
	set termguicolors
endif
let g:edge_style = 'aura'
let g:edge_better_performance = 1
'''

# „ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÇíÁîªÂÉèÂåñ„Åô„Çã
[[plugins]]
repo = 'skanehira/denops-silicon.vim'
depends = 'denops.vim'

# UI
[[plugins]]
repo = 'folke/noice.nvim'
depends = ['nui.nvim']
lua_source = '''
-- settting for nocie.vim
require('noice').setup {
	cmdline = {
		enabled = true,
		view = "cmdline_popup",
		format = {
			cmdline = { icon = ">" },
			search_down = { icon = "üîç‚åÑ" },
			search_up = { icon = "üîç‚åÉ" },
			filter = { icon = "$" },
			lua = { icon = "‚òæ" },
			help = { icon = "?" },
		},
	},
	popupmenu = {
		enabled = true,
		view = "pum",
	},
}
'''

# UI Component Library for Neovim
[[plugins]]
repo = 'MunifTanjim/nui.nvim'

# notification manager for Neovim
[[plugins]]
repo = 'rcarriga/nvim-notify'
on_lua = 'notify'
lua_source = '''
require('notify').setup({
	render = "minimal",
	timeout = 1000,
	})
vim.notify = require('notify')
'''

# tree-sitter
[[plugins]]
repo = 'nvim-treesitter/nvim-treesitter'
merged = '0'
lua_source = '''
require('nvim-treesitter.configs').setup {
	ensure_installed = { 'lua', 'vim' },
	highlight = {
		enable = true,
		disable = {
			"ddu-ff",
			"ddu-ff-filter",
		},
	},
	indent = {
		enable = true,
		disable = {
			"ddu-ff",
			"ddu-ff-filter",
			"html",
		},
	},
}
'''

[[plugins]]
repo = 'nvim-treesitter/nvim-treesitter-textobjects'
depends = 'nvim-treesitter'
lua_source = '''
require'nvim-treesitter.configs'.setup {
	textobjects = {
		select = {
			enable = true,
			lookahead = true,
			keymaps = {
				["af"] = "@function.outer",
				["if"] = "@function.inner",
				["ac"] = "@class.outer",
				["ic"] = "@class.inner",
			},
		},
	}
}
'''

[[plugins]]
repo = 'tyru/open-browser.vim'

[[plugins]]
repo = 'sainnhe/edge'
hook_add = '''
if has('termguicolors')
	set termguicolors
endif
let g:edge_style = 'aura'
let g:edge_better_performance = 1
'''

# git
[[plugins]]
repo = 'lambdalisue/gina.vim'
hook_add = '''
nnoremap [Gina] <Nop>
nmap <space>g [Gina]
nmap <silent> [Gina]s :Gina status<CR>
nmap <silent> [Gina]c :Gina commit<CR>
nmap <silent> [Gina]l :Gina log --graph --all<CR>
nmap <silent> [Gina]b :Gina branch --all<CR>
'''

# GitHub
[[plugins]]
repo = 'skanehira/denops-gh.vim'

# QuickFix„Çí‰∏ÄÊã¨ÁΩÆÊèõ
[[plugins]]
repo = 'thinca/vim-qfreplace'

# QuickFix„ÇíÁ∑®ÈõÜ
[[plugins]]
repo = 'itchyny/vim-qfedit'

# skk„ÅÆËæûÊõ∏
[[plugins]]
repo = 'skk-dev/dict'

# <C-a> <C-x>„Çí‰Ωø„ÅÑÊòì„Åè„Åô„Çã
[[plugins]]
repo = 'monaqa/dial.nvim'
